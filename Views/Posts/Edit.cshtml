@model NewPostsViewModel
<div class="flex items-center justify-center p-12 bg-slate-200 dark:bg-gray-900">

    <div
        class=" bg-slate-200  dark:border-none  border-2 border-gray-300 shadow-md dark:bg-gray-800  dark:text-gray-200 dark:!shadow-none   rounded-lg px-3 w-full max-w-[850px]">
        <form action="Edit" method="post" enctype="multipart/form-data">
            <div asp-validation-summary="ModelOnly" class="text-red-600"></div>
            <input type="hidden" asp-for="PostId">



            <div class="my-10">
                <label asp-for="Title"
                    class="block text-gray-800 dark:text-gray-200  text-lg font-semibold mb-2">Senaryo Balşığı
                    Giriniz*</label>
                <input type="Text" asp-for="Title"
                    class="form-input w-full px-2 py-2 border-2 border-gray-300 text-gray-800 dark:text-gray-200 dark:border-gray-600 dark:bg-gray-800 bg-gray-50  shadow-md rounded-lg "
                    required placeholder="">
                <span asp-validation-for="Title" class="text-red-800"></span>
            </div>


            <div class=" mb-10">
                <h2 class=" text-gray-800 dark:text-gray-200 text-lg font-semibold mb-2">Senaryo PDF'ini ve Resmini
                    Yükleyiniz*</h2>

                <div class="flex justify-around px-10">

                    <div class="flex items-center ">
                        <label
                            class="flex flex-col items-center px-4 py-2 border-gray-500 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg tracking-wide uppercase border-1 dark:border-gray-400 cursor-pointer hover:bg-blue hover:text-indigo-700 dark:hover:text-indigo-700">
                            <svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20">
                                <path
                                    d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z" />
                            </svg>
                            <span class="mt-1 text-xs leading-tight whitespace-nowrap">PDF Yükleyiniz</span>
                            <input type='file' class="hidden" name="content" accept=".pdf"
                                onchange="showFileName(this, 'pdf-file-name')" />
                            <span id="pdf-file-name" class="text-xs mt-1"></span>
                        </label>
                    </div>

                    <div class="flex items-center ">
                        <label
                            class="flex flex-col items-center px-4 py-2 border-gray-500 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-lg tracking-wide uppercase border-1 dark:border-gray-400 cursor-pointer hover:bg-blue hover:text-indigo-800 dark:hover:text-indigo-700">
                            <svg class="w-6 h-6" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20">
                                <path
                                    d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z" />
                            </svg>
                            <span class="mt-1 text-xs leading-tight whitespace-nowrap">Resim Yükleyiniz</span>
                            <input type='file' class="hidden" name="image" accept="image/*"
                                onchange="showFileName(this, 'image-file-name')" />
                            <span id="image-file-name" class="text-xs mt-1"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="mb-10">
                <h2 class="text-gray-800 dark:text-gray-200 text-lg font-semibold mb-2">Senaryo yayınlama yöntemi
                    seçiniz*</h2>
                <div class="flex ml-4">
                    <div class="flex items-center">
                        <input asp-for="PdfisActive" type="radio" value="false" class="w-4 h-4"
                            checked="@Model.PdfisActive == false" />
                        <label for="pdfAndSummary" class="ms-2 text-sm font-medium text-gray-800 dark:text-gray-200">
                            Pdf yalnızca yazarın onayladığı kişilere görünür.
                            <div class="relative inline-block">
                                <!-- İkon -->
                                <button data-tooltip-target="tooltip-pdf-only" data-tooltip-placement="bottom"
                                    type="button" class="text-gray-700 hover:text-gray-900 focus:outline-none">
                                    <i class="fa-solid fa-circle-info text-base dark:text-gray-400"></i>
                                </button>

                                <!-- Tooltip -->
                                <div id="tooltip-pdf-only" role="tooltip"
                                    class="absolute z-10 invisible inline-block w-[250px] px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                                    Senaryonun özeti yayınlanır, ancak Pdf'i görmek isteyenler onayınızı bekler.
                                    <div class="tooltip-arrow" data-popper-arrow></div>
                                </div>
                            </div>
                        </label>
                    </div>

                    <div class="flex items-center ml-4">
                        <input asp-for="PdfisActive" type="radio" value="true" class="w-4 h-4"
                            checked="@Model.PdfisActive == true" />
                        <label for="summaryOnly" class="ms-2 text-sm font-medium text-gray-800 dark:text-gray-200">
                            Pdf Herkese Açık Olur
                            <div class="relative inline-block">
                                <!-- İkon -->
                                <button data-tooltip-target="tooltip-pdf-open" data-tooltip-placement="bottom"
                                    type="button" class="text-gray-700 hover:text-gray-900 focus:outline-none">
                                    <i class="fa-solid fa-circle-info text-base  dark:text-gray-400"></i>
                                </button>

                                <!-- Tooltip -->
                                <div id="tooltip-pdf-open" role="tooltip"
                                    class="absolute z-10 invisible inline-block w-[250px] px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                                    Senaryonun özeti ve Pdf dosyası herkes tarafından görüntülenebilir.
                                    <div class="tooltip-arrow" data-popper-arrow></div>
                                </div>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="my-7">
                    <h2 class="text-gray-800 dark:text-gray-200 text-lg font-semibold mb-2">Format Seçiniz</h2>
                    <div class="flex ml-4">
                        <div class="flex flex-wrap justify-between">
                                @foreach (var category in Model.Categories)
                                {
                                <div class="flex items-center mr-5 mt-2">
                                    <input type="radio" name="CategoryId" value="@category.CategoryId"
                                        class="w-4 h-4 bg-gray-100" @(Model.CategoryId == category.CategoryId ? "checked" : ""
                                    ) />
                                    <label class="ml-1 text-sm font-medium text-gray-800 dark:text-gray-200">
                                            @category.Text
                                    </label>
                                </div>
                                }
                        </div>
                    </div>


                </div>
                <div class="my-7">
                    <h2 class="text-gray-800 dark:text-gray-200 text-lg font-semibold mb-2">Tür Seçiniz*</h2>
                    <div class="grid md:grid-cols-4 grid-cols-3 gap-2 ml-4">
                            @foreach (var tag in Model.Tags)
                            {
                            <div class="flex items-center text-gray-800 dark:text-gray-200">
                                <input type="checkbox" name="SelectedTags" value="@tag.TagId" class="w-4 h-4"
                                    id="tag__@tag.TagId" @(Model.SelectedTags.Contains(tag.TagId) ? "checked" : "") />
                                <label class="ml-2">@tag.Text</label>
                            </div>
                            }
                    </div>
                </div>
                <div class="my-7 w-1/3">
                    <label asp-for="Price"
                        class="block text-gray-800 dark:text-gray-200 text-lg font-semibold mb-2">Senaryo
                        Fiyatını
                        Giriniz*</label>
                    <input type="text" pattern="\d*" asp-for="Price" inputmode="numeric"
                     class="mt-2 p-2 w-full border-2 shadow-sm border-gray-300 rounded-lg dark:text-gray-200 dark:border-gray-600 dark:bg-gray-800"
                        placeholder="Fiyat girin" oninput="this.value = this.value.replace(/[^0-9]/g, '');"
                        class="form-input w-full px-2 py-2 bg-gray-50 dark:bg-gray-200 shadow-md rounded-lg  text-black"
                        required placeholder="">
                    <span asp-validation-for="Title" class="text-red-800"></span>
                </div>
                <div>
                        @if (User.FindFirstValue(ClaimTypes.Role) == "Admin")
                        {
                        <div class="flex items-center mb-4">
                            <input name="IsActive" id="default-checkbox" type="checkbox" value="true"
                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                                @(Model.IsActive ? "checked" : "") />
                            <label for="default-checkbox"
                                class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-200">IsActive</label>
                        </div>
                        }
                </div>

                <div class="mb-3">
                    <h2 class="text-gray-800 dark:text-gray-200 text-lg font-semibold mb-2">Özet</h2>
                    <textarea asp-for="Description" class=""></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>

                </div>
                <!-- Etiketler (Checkbox) -->



                <div>
                    <button type="submit "
                        class="hover:shadow-form rounded-md bg-indigo-700 py-3 px-8 text-base font-semibold text-white  hover:bg-indigo-500 mb-3 outline-none">
                        Kaydet
                    </button>
                </div>
        </form>
    </div>
</div>


@section Scripts
{
    <script>
        function showFileName(input, elementId) {
            const fileName = input.files[0]?.name || "Dosya seçilmedi";
            document.getElementById(elementId).textContent = fileName;
        }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/7.3.0/tinymce.min.js"
        integrity="sha512-RUZ2d69UiTI+LdjfDCxqJh5HfjmOcouct56utQNVRjr90Ea8uHQa+gCxvxDTC9fFvIGP+t4TDDJWNTRV48tBpQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        tinymce.init({
            selector: '#Description'
        });
    </script>

}